---
title: 测试旅程
description: '了解旅程测试 '
page-status-flag: never-activated
uuid: 269d590c-5a6d-40b9-a879-02f5033863fc
contentOwner: sauviat
audience: rns
content-type: reference
topic-tags: journeys
discoiquuid: 5df34f55-135a-4ea8-afc2-f9427ce5ae7b
internal: n
snippet: y
translation-type: tm+mt
source-git-commit: be21573973600758cbf13bd25bc3b44ab4cd08ca
workflow-type: tm+mt
source-wordcount: '1090'
ht-degree: 1%

---


# 测试旅程{#testing_the_journey}

在能够测试旅程之前，您必须解决所有错误（如果有）。 请参见 [](../about/troubleshooting.md#section_h3q_kqk_fhb)。

您可以使用测试用户档案，在发布旅程之前对其进行测试。 这使您能够分析个人在旅程中的流动情况，并在发布前排除故障。

要使用测试模式，请执行以下步骤：

1. 在测试您的旅程之前，请验证该旅程是否有效，并且没有错误。 您将无法对存在错误的旅程进行测试。 请参见 [](../about/troubleshooting.md#section_h3q_kqk_fhb)。出错时显示警告符号。

1. 要激活测试模式，请单击位 **[!UICONTROL Test]** 于右上角的切换模式。

   ![](../assets/journeytest1.png)

1. 使用左 **下角的** “Wait time in test（在测试中等待时间）”参数定义每个等待活动在测试模式下的持续时间。 默认时间为 10 秒。这样可以确保快速获得测试结果。 此参数仅在您在旅程中丢弃了一个或多个等待活动时显示。

   ![](../assets/journeytest_wait.png)

1. 单 **[!UICONTROL Trigger an event]** 击以配置事件并将其发送到旅程。 确保发送与测试事件相关的用户档案。 请参 [阅发射事件](#firing_events)。

   ![](../assets/journeyuctest1.png)

1. 收到事件后，单击按 **[!UICONTROL Show log]** 钮视图测试结果并验证。 请参 [阅查看日志](#viewing_logs)。

   ![](../assets/journeyuctest2.png)

1. 如果出现任何错误，请取消激活测试模式，修改您的旅程并再次测试它。 当测试结果确定时，您可以发布您的旅程。 请参见 [](../building-journeys/publishing-the-journey.md)。

## 重要说明 {#important_notes}

* 提供一个接口，用于向测试旅程中的事件发射事件，但也可以由第三方系统发送，如Postman。
* 只允许在实时客户用户档案服务中标为“测试用户档案”的个人进入测试旅程。 创建测试用户档案的过程与在数据平台中创建用户档案的过程相同。 您只需确保测试用户档案标志为真。 您可以使用数据平台界面中的“区段”部分在数据平台中创建测试用户档案的区段，并查看非完全列表。 目前无法显示完整列表。
* 测试模式仅在使用命名空间的草稿旅程中可用。 事实上，测试模式需要检查进入旅程的人员是否是测试用户档案，因此必须能够访问数据平台。
* 在测试会话期间，可以进入旅程的测试用户档案数最大为100。
* 禁用测试模式后，它将从过去或当前已进入该模式的所有人员中抢占旅程。
* 您可以根据需要多次启用／禁用测试模式。
* 在激活测试模式时，您无法修改旅程。 在测试模式下时，您可以直接发布旅程，无需在之前取消激活测试模式。

## 发射事件 {#firing_events}

通 **[!UICONTROL Trigger an event]** 过此按钮，您可以配置事件，使人员进入旅程。

作为入门项目，您必须知道哪些用户档案在数据平台中被标记为测试用户档案。 事实上，测试模式只允许旅程中的这些用户档案,事件必须包含ID。 所需的ID取决于事件配置。 例如，它可以是ECID。

如果您的旅程包含多个事件，请使用下拉列表选择事件。 然后，为每个事件配置所传递的字段和执行事件发送。 该接口可帮助您在事件有效负荷中传递正确的信息，并确保信息类型正确。 测试模式保存测试会话中使用的最后一个参数以供以后使用。

![](../assets/journeytest4.png)

该界面允许您传递简单的事件参数。 如果要在事件中传递集合或其他高级对象，可以单 **[!UICONTROL Code View]** 击查看有效负荷的整个代码并修改它。 例如，您可以复制和粘贴由技术用户准备的事件信息。

![](../assets/journeytest5.png)

技术用户也可以使用此界面来编写事件负载和触发事件，而无需使用第三方工具。

单击“Send(发 **送** )”按钮时，测试开始。 旅程中个人的进度由视觉流表示。 当个人在旅程中移动时，路径逐渐变绿。 如果发生错误，则在相应步骤上显示警告符号。 可将光标放在它上以显示有关错误的详细信息并访问完整详细信息（如果有）。

![](../assets/journeytest6.png)

当您在事件配置屏幕中选择其他测试用户档案并再次运行测试时，将清除可视流并显示新个人的路径。

在测试中打开旅程时，显示的路径与执行的上次测试相对应。

无论事件是通过界面触发还是通过外部触发（例如，使用Postman），可视流都有效。

## 查看日志 {#viewing_logs}

通 **[!UICONTROL Show log]** 过按钮可视图测试结果。 本页以JSON格式显示旅程的当前信息。 通过按钮可复制整个节点。 您需要手动刷新页面以更新旅程的测试结果。

![](../assets/journeytest3.png)

>[!NOTE]
>
>在测试日志中，如果调用第三方系统（数据源或操作）时出错，则显示错误代码和错误响应。

此时会显示旅程中当前的个人数（技术上称为实例）。 以下是每个人显示的有用信息：

* _ID_: 旅程中个人的内部ID。 这可用于调试目的。
* _currentstep_: 个体在旅程中所处的步骤。 我们建议向活动添加标签，以便更轻松地识别它们。
* _currentstep_ > phase: 个人旅程的状态（正在运行、已完成、错误或超时）。 有关更多信息，请参见下文。
* _currentstep_ > _extraInfo_: 错误的描述和其他上下文信息。
* _currentstep_ > _fetchErrors_: 有关此步骤期间发生的提取数据错误的信息。
* _externalKeys_: 在事件中定义的键公式的值。
* _exchedData_: 旅程使用数据源时已检索的数据。
* _transitionHistory_: 个人遵循的步骤列表。 对于事件，将显示有效负荷。
* _actionExecutionErrors_ : 错误的相关信息。

以下是个人旅程的不同状态：

* _运行_: 这个人目前正在旅程中。
* _完成_: 这个人在旅程的尽头。
* _错误_: 由于出错，个人在旅程中被停止。
* _超时_: 这个人因为走太多的路，而被停在旅途中。
